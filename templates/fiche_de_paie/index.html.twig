{% extends 'RRH.html.twig' %}

{% block title %}FicheDePaie index{% endblock %}

{% block body %}
    <h1>FicheDePaie index</h1>

    <form action="/fiche/de/paie/recherche" method="post"
          class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
        <div class="input-group">
            <input type="text" name="searche" class="form-control bg-light border-0 small" placeholder="recherche..."
                   aria-label="Search" aria-describedby="basic-addon2">
            <div class="input-group-append">
                <button class="btn btn-primary" type="submit" value="recherche">
                    <i class="fas fa-search fa-sm"></i>
                </button>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 col-lg-12">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Liste des fiches de paies</div>
                    </div>
                    <div class="card-body">
                        <form role="search" id="nav-search-form" method="post" action="{{ path('triid') }}"> {#bouton tri#}


                            <div class="btn-toolbar" role="toolbar" aria-label="Programmatic control">
                                <div class="btn-group btn-group-sm" aria-label="Set Select2 option">
                                    <button class="js-programmatic-set-val btn btn-outline-primary mr-1 mb-1">
                                        Sort by salaireInit
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </form>




    <table class="table">
        <thead>
            <tr>
                <th>IdFp</th>
                <th>IdPer</th>
                <th>SalaireInit</th>
                <th>IdPrime</th>
                <th>SalaireTotal</th>
                <th>DatePaiement</th>
                <th>EtatPaiement</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for fiche_de_paie in fiche_de_paies %}
            <tr>
                <td>{{ fiche_de_paie.idFp }}</td>
                <td>{{ fiche_de_paie.idPer }}</td>
                <td>{{ fiche_de_paie.salaireInit }}</td>
                <td>{{ fiche_de_paie.idPrime }}</td>
                <td>{{ fiche_de_paie.salaireTotal }}</td>
                <td>{{ fiche_de_paie.datePaiement ? fiche_de_paie.datePaiement|date('Y-m-d') : '' }}</td>
                <td>{{ fiche_de_paie.etatPaiement }}</td>
                <td>
                    <a href="{{ path('app_fiche_de_paie_show', {'idFp': fiche_de_paie.idFp}) }}">show</a>
                    <a href="{{ path('app_fiche_de_paie_edit', {'idFp': fiche_de_paie.idFp}) }}">edit</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="8">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_fiche_de_paie_new') }}">Create new</a>
    <a href="{{ path('fichedepaiepdf') }}">Importer</a>
{% endblock %}
